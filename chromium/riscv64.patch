--- PKGBUILD
+++ PKGBUILD
@@ -19,7 +19,7 @@ depends=('gtk3' 'nss' 'alsa-lib' 'xdg-utils' 'libxss' 'libcups' 'libgcrypt'
          'libffi' 'desktop-file-utils' 'hicolor-icon-theme')
 makedepends=('python' 'gn' 'ninja' 'clang' 'lld' 'gperf' 'nodejs' 'pipewire'
              'rust' 'rust-bindgen' 'qt6-base' 'java-runtime-headless'
-             'git' 'compiler-rt')
+             'git' 'compiler-rt' 'jq' 'npm' 'rsync')
 optdepends=('pipewire: WebRTC desktop sharing under Wayland'
             'kdialog: support for native dialogs in Plasma'
             'gtk4: for --gtk-version=4 (GTK4 IME might work better on Wayland)'
@@ -39,10 +39,15 @@ sha256sums=('e1a15924aeeee3cbd76cf15fd2dce755acea2a7cb034ea2993fd02dd63738764'
             '213e50f48b67feb4441078d50b0fd431df34323be15be97c55302d3fdac4483a'
             '11a96ffa21448ec4c63dd5c8d6795a1998d8e5cd5a689d91aea4d2bdd13fb06e'
             '5abc8611463b3097fc5ce58017ef918af8b70d616ad093b8b486d017d021bbdf'
-            '81ba390a500a38c50b5adad9d185d08685cdf9a9d9448e1e33cfff4f2388618d'
+            '1b36a49855a19dd44d4c9d120157bb58a71cddcc8d40182330f73de2abbd59c9'
             'd634d2ce1fc63da7ac41f432b1e84c59b7cceabf19d510848a7cff40c8025342'
             'e6da901e4d0860058dc2f90c6bbcdc38a0cf4b0a69122000f62204f24fa7e374'
-            'de5c873564b09713b65dd9e6a0b9049d7b3cf8f881436f36e1c091824b63e876')
+            'de5c873564b09713b65dd9e6a0b9049d7b3cf8f881436f36e1c091824b63e876'
+            '2ea949ed1d20a1745ce72f760a7d9297dc0002a747c4bd53e243c4d58ba2c7ca'
+            '9ee0b8af0d420192fa8c9577dd270fe4abf1c95313d6744cbfefec47ae6628ef'
+            '20d1674502309a1aa1edec44a7f47d13e89d95211e1749bc1ea2939b937d63f5'
+            '19edd242f82882662513ace339932ee41604eac815bbfdf93e09b43f170c5fda'
+            '3eb5e621757be3f2984acb76d16cf3571bfe5bbbc71ad230b21aa983041ff5ea')
 
 if (( _manual_clone )); then
   source[0]=fetch-chromium-release
@@ -125,6 +130,25 @@ prepare() {
   # Increase _FORTIFY_SOURCE level to match Arch's default flags
   patch -Np1 -i ../increase-fortify-level.patch
 
+  # RISC-V
+  patch -Np0 -i ../swiftshader-use-llvm16.patch
+  patch -Np0 -i ../Debian-fix-rust-linking.patch
+  # pushd v8
+  # patch -Np1 -i "${srcdir}"/0001-riscv-maglev-Add-some-peephole-optimisations.patch
+  # popd
+
+  patch -Np1 -i ../riscv-sandbox-141.patch
+  patch -Np1 -i ../riscv-dav1d.patch
+  patch -Np1 -d third_party/ffmpeg < ../riscv-ffmpeg-140.patch
+
+  pushd third_party/node/
+  sed -i -e 's/@rollup/rollup/' -e "s/'wasm-node',//" node_modules.py
+  local _rollup_ver="$(jq -r .dependencies.\"@rollup/wasm-node\" package.json)"
+  jq ".dependencies.rollup=\"$_rollup_ver\"" package.json > package.json.new
+  mv package.json{.new,}
+  popd
+  third_party/node/update_npm_deps
+
   # Fixes for building with libstdc++ instead of libc++
 
   # Link to system tools required by the build
@@ -143,6 +167,25 @@ prepare() {
     ./tools/clang/scripts/update.py
   fi
 
+  pushd third_party/devtools-frontend/src
+  sed -i -e 's/@rollup/rollup/' -e "s/'wasm-node',//" scripts/devtools_paths.py
+  local _rollup_ver="$(jq -r .devDependencies.\"@rollup/wasm-node\" package.json)"
+  jq ".devDependencies.rollup=\"$_rollup_ver\" | .devDependencies.\"@rollup/rollup-linux-riscv64-gnu\"=\"$_rollup_ver\""  package.json > package.json.new
+  mv package.json{.new,}
+  # Chromium hosts a custom registry at https://npm.skia.org/chrome-devtools/
+  # and rejects some packages:
+  # Package fs-extra with version 11.3.0 was created 108h0m0s time ago. This is less than 1 week and so failed the audit.
+  sed -i /registry/d .npmrc
+  # Replace direct invocation of wasm rollup
+  sed -i 's\@rollup/wasm-node\rollup\' \
+    inspector_overlay/BUILD.gn \
+    front_end/models/live-metrics/web-vitals-injected/BUILD.gn \
+    front_end/Images/BUILD.gn \
+    front_end/panels/recorder/injected/BUILD.gn \
+    scripts/build/ninja/bundle.gni
+  popd
+  python third_party/devtools-frontend/src/scripts/deps/manage_node_deps.py
+
   # Remove bundled libraries for which we will use the system copies; this
   # *should* do what the remove_bundled_libraries.py script does, with the
   # added benefit of not having to list all the remaining libraries
@@ -198,6 +241,7 @@ build() {
     'enable_widevine=true'
     'use_qt5=false'
     'use_qt6=true'
+    'is_clang=true'
     'moc_qt6_path="/usr/lib/qt6"'
     "google_api_key=\"$_google_api_key\""
     'use_clang_modules=false'
@@ -256,6 +300,11 @@ build() {
   # https://crbug.com/957519#c122
   CXXFLAGS=${CXXFLAGS/-Wp,-D_GLIBCXX_ASSERTIONS}
 
+  # Chromium already targets rv64gc. Manually setting it in CFLAGS overrides some objects
+  # that should be complied with rv64gcv
+  CFLAGS=${CFLAGS/-march=rv64gc }
+  CXXFLAGS=${CXXFLAGS/-march=rv64gc }
+
   gn gen out/Release --args="${_flags[*]}"
   ninja -C out/Release chrome chrome_sandbox chromedriver.unstripped
 }
@@ -331,4 +380,12 @@ package() {
   install -Dm644 LICENSE "$pkgdir/usr/share/licenses/chromium/LICENSE"
 }
 
+_riscv_fork_patches='https://github.com/riscv-forks/electron/raw/ec86252/patches/'
+source+=(swiftshader-use-llvm16.patch
+         riscv-dav1d.patch
+         riscv-sandbox-141.patch
+         riscv-ffmpeg-140.patch::${_riscv_fork_patches}/ffmpeg/0001-Manually-copy-configs-for-riscv64-linux.patch
+         #${_riscv_fork_patches}/v8/0001-riscv-maglev-Add-some-peephole-optimisations.patch
+         Debian-fix-rust-linking.patch)
+
 # vim:set ts=2 sw=2 et:
diff --git compiler-rt-adjust-paths.patch compiler-rt-adjust-paths.patch
index c3ac1f9..bb7d0f8 100644
--- compiler-rt-adjust-paths.patch
+++ compiler-rt-adjust-paths.patch
@@ -1,12 +1,11 @@
-diff -ura chromium-141.0.7390.54/build/config/clang/BUILD.gn chromium-141.0.7390.54.patched/build/config/clang/BUILD.gn
---- chromium-141.0.7390.54/build/config/clang/BUILD.gn  2025-10-01 13:36:59.000000000 +0000
-+++ chromium-141.0.7390.54.patched/build/config/clang/BUILD.gn  2025-10-01 13:42:38.977184172 +0000
-@@ -170,17 +170,22 @@
-         _dir = "darwin"
+diff --git a/build/config/clang/BUILD.gn b/build/config/clang/BUILD.gn
+index b171ee13ce7ed..d5b4e4fdcd0c8 100644
+--- a/build/config/clang/BUILD.gn
++++ b/build/config/clang/BUILD.gn
+@@ -171,16 +171,21 @@ template("clang_lib") {
        } else if (is_linux || is_chromeos) {
          if (current_cpu == "x64") {
--          _dir = "x86_64-unknown-linux-gnu"
-+          _dir = "linux"
+           _dir = "x86_64-unknown-linux-gnu"
 +          _suffix = "-x86_64"
          } else if (current_cpu == "x86") {
            _dir = "i386-unknown-linux-gnu"
@@ -25,3 +24,11 @@ diff -ura chromium-141.0.7390.54/build/config/clang/BUILD.gn chromium-141.0.7390
          } else if (current_cpu == "ppc64") {
            _dir = "ppc64le-unknown-linux-gnu"
          } else if (current_cpu == "s390x") {
+@@ -188,6 +193,7 @@ template("clang_lib") {
+         } else {
+           assert(false)  # Unhandled cpu type
+         }
++          _dir = "linux"
+       } else if (is_fuchsia) {
+         if (current_cpu == "x64") {
+           _dir = "x86_64-unknown-fuchsia"

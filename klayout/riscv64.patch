diff --git PKGBUILD PKGBUILD
index 06923ba..a965e33 100644
--- PKGBUILD
+++ PKGBUILD
@@ -10,13 +10,16 @@ url="https://www.klayout.de"
 license=('GPL')
 depends=('qt5-base' 'qt5-tools' 'qt5-multimedia' 'qt5-xmlpatterns' 'qt5-svg' 'ruby2.7' 'python')
 source=(http://www.klayout.org/downloads/source/klayout-$pkgver.tar.bz2
-        klayoutEditor.desktop klayoutViewer.desktop)
+        klayoutEditor.desktop klayoutViewer.desktop
+        fix-format-security.patch::https://github.com/KLayout/klayout/pull/932.patch)
 sha512sums=('b4b13257264519abc0b6d4ba762610941b065c598c85f22eaea1283a2043936a2f696878bddf3c64b72f15dec692ae75083972189ced593604439b6fa2b92e68'
             'bc6c7621e5cda754509a86664fb3e7ecd15f577dec712f4b0c52c9a7455ba692043a67145f5bf143d8fdc502b84e4212303906d62107537eefb4bebe57b2ffe1'
-            '37a3bbb06ab155c1c22e3990cf160383570e8ea945dbf4964bc94b6fd4e6321627d31071a29d3dbeafc9e2fc406b6905761e299bfccdfe0a35663f2021624f4f')
+            '37a3bbb06ab155c1c22e3990cf160383570e8ea945dbf4964bc94b6fd4e6321627d31071a29d3dbeafc9e2fc406b6905761e299bfccdfe0a35663f2021624f4f'
+            'f97053afdf6277b6705a14c9ec87fd8aee002dc4cdbc0efbbbed1a769963d9c600321aafa503a75b46938ca6e2d46f8ff3daf2e8697ee7d69a51c224780d0cac')
 
 build() {
   cd klayout-$pkgver
+  patch -Np1 -i ../fix-format-security.patch
   ./build.sh -ruby /usr/bin/ruby-2.7
 }
 
